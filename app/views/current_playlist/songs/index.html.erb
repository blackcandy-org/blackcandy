<div
  data-test-id='current_playlist'
  data-controller='current-playlist-songs'
  data-current-playlist-songs-should-play-value='<%= @should_play %>'>
  <% if @songs.empty? %>
    <%= empty_alert_tag %>
  <% else %>
    <div class='c-action-bar o-flex o-flex--justify-between o-flex--align-center'>
      <p>
        <span id='<%= dom_id(@playlist, :songs_count) %>'><%= @playlist.songs.count %></span>
        <span><%= t("label.tracks") %></span>
      </p>
      <%= render DropdownComponent.new(test_id: "playlist_menu") do |component| %>
        <% component.with_toggle do %>
          <span class='c-button c-button--icon'>
            <%= icon_tag "more-vertical", title: t("label.more") %>
          </span>
        <% end %>
        <%= component.with_menu_item(:button, t("button.clear"), current_playlist_songs_path, method: :delete) %>
      <% end %>
    </div>
    <ul class="c-list u-my-tiny" data-controller="playlist-sortable" data-playlist-id='<%= @playlist.id %>'>
      <% @songs.each do |song| %>
        <%= render partial: "current_playlist/songs/song", locals: {song: song, playlist: @playlist, should_play: @should_play_song_id == song.id} %>
      <% end %>
    </ul>
  <% end %>
</div>
